# 古籍阅读 (GuJiReader)

一款具有宣纸质感的iOS古籍阅读应用，支持传统的从上往下竖排阅读方式。

## 功能特点

### 核心功能

1. **竖排阅读** - 还原古人从上往下、从右往左的阅读方式
2. **宣纸质感** - 精心设计的宣纸纹理背景，营造古典氛围
3. **书库浏览** - 内置多部经典古籍，支持分类浏览
4. **下载阅读** - 一键下载书籍，离线阅读无忧
5. **阅读设置** - 自由调节字体大小，切换阅读主题
6. **翻页动画** - 精美的翻页动画效果，提升阅读体验 ✨
7. **阅读进度** - 自动保存阅读位置，"继续阅读"快速恢复 ✨ 新增
8. **书签功能** - 为喜欢的章节添加书签和笔记 ✨ 新增
9. **繁简转换** - 一键切换简体/繁体显示 ✨ 新增

### 书籍分类

- **经典** - 论语、道德经、孟子等
- **历史** - 史记、资治通鉴等
- **哲学** - 庄子、易经等
- **文学** - 古文观止等
- **诗词** - 唐诗三百首、宋词三百首等

### 阅读主题

1. **宣纸** - 温暖的米黄色调，配合细腻的纤维纹理
2. **白纸** - 简洁明快的白色背景
3. **复古** - 怀旧的褐色调
4. **夜间** - 护眼的深色模式

## 项目结构

```
GuJiReader/
├── GuJiReader/
│   ├── GuJiReaderApp.swift          # App入口
│   ├── Models/
│   │   └── Models.swift             # 数据模型
│   ├── Views/
│   │   ├── ContentView.swift        # 主视图
│   │   ├── LoginView.swift          # 登录视图
│   │   ├── ProfileView.swift        # 个人中心
│   │   ├── BookLibraryView.swift    # 书库视图
│   │   ├── BookDetailView.swift     # 书籍详情
│   │   ├── ReadingView.swift        # 阅读视图
│   │   └── VerticalReadingView.swift # 竖排文本组件
│   ├── Services/
│   │   └── BookLibraryService.swift # 书库服务
│   └── Utils/
│       ├── ThemeManager.swift       # 主题管理
│       ├── Helpers.swift            # 工具类
│       └── PageTransitionManager.swift # 翻页动画 ✨
```

## 使用说明

### 基本使用

1. **登录/注册**
   - 首次使用需要登录（演示版本可随意输入用户名）
   - 点击"立即注册"可快速生成测试账号

2. **浏览书库**
   - 底部标签切换到"书库"
   - 顶部滑动选择不同分类
   - 浏览书籍卡片，点击查看详情

3. **下载书籍**
   - 在书籍详情页点击"下载本书"
   - 下载完成后可在"我的书架"中查看

4. **开始阅读**
   - 在书籍详情页点击"开始阅读"
   - 或在"我的书架"中选择已下载的书籍

### 阅读功能

1. **翻页**
   - 点击"上一章"/"下一章"按钮切换章节
   - 顶部进度条显示当前阅读进度

2. **目录导航**
   - 点击左下角目录图标
   - 快速跳转到任意章节

3. **阅读设置**
   - 点击右下角设置图标
   - 调整字体大小（14-28）
   - 切换阅读主题
   - 选择翻页动画效果 ✨

## 技术实现

### 竖排文本

使用自定义的 `VerticalReadingView` 组件，将文本按列分割，每列从上往下排列，多列从右往左排列。

### 宣纸纹理

通过 `Canvas` 绘制多层随机纹理：
- 细小纤维纹理（模拟纸张纤维）
- 大的斑点纹理（模拟纸张瑕疵）
- 使用棕色半透明叠加，营造古旧感

### 翻页动画 ✨

使用自定义的 ViewModifier 实现多种翻页效果：
- **滑动动画**: offset + opacity 组合，流畅自然
- **渐隐动画**: opacity + scale 组合，简洁优雅
- **翻书动画**: rotation3DEffect + shadow，3D效果
- 支持自定义动画速度（0.1-0.8秒）
- 震动反馈增强操作确认感

### 数据持久化

- 使用 `UserDefaults` 保存用户信息和已下载书籍
- 书籍内容采用 JSON 格式存储

## 系统要求

- iOS 15.0+
- Xcode 13.0+
- Swift 5.5+

## 后续优化方向

1. **功能增强**
   - 添加书签功能
   - 支持笔记和批注
   - 阅读时间统计
   - 真实的网络下载功能

2. **内容扩充**
   - 接入真实古籍数据源
   - 添加更多书籍分类
   - 支持自定义导入书籍

3. **体验优化** ✨
   - ~~手势翻页功能（滑动切换章节）~~ 已实现
   - ~~阅读进度自动保存~~ ✅ 已完成
   - 更多种类的字体选择
   - 音频朗读功能
   - ~~书签和笔记功能~~ ✅ 已完成
   - ~~繁简转换功能~~ ✅ 已完成

4. **社交功能**
   - 用户注册和登录系统
   - 阅读心得分享
   - 书籍推荐和评论

## 📚 项目文档

### 核心文档
- **[改进报告](./IMPROVEMENT_REPORT.md)** - 功能改进详细说明（阅读进度、书签、繁简转换）
- **[UI/UX设计规范](./UI_UX_DESIGN_SPEC.md)** - 宋代美学阅读页设计规范
- **[集成指南](./INTEGRATION_GUIDE.md)** - 新阅读页快速集成指南
- **[视觉对比报告](./DESIGN_COMPARISON_REPORT.md)** - v1.0 vs v2.0 对比分析

### 开发文档
- **[开发规范](./DEVELOPMENT_GUIDELINES.md)** - 开发最佳实践和常见错误
- **[代码审查清单](./CODE_REVIEW_CHECKLIST.md)** - 提交前快速检查

### 架构文档
- **[代码质量报告](./CODE_QUALITY_REPORT.md)** - 项目代码质量审查报告

## 开发者说明

这是一个演示项目，主要用于展示iOS SwiftUI开发技巧和古籍阅读app的设计思路。

### 代码特点

- 使用 SwiftUI 构建现代化界面
- MVVM 架构设计
- 响应式编程（@Published, @EnvironmentObject）
- 自定义 ViewModifier 和 View 组件
- Canvas 绘图技术

## 许可证

MIT License

---

**传承经典，品味古籍之美**
